<!DOCTYPE HTML>
<html>
    <head>
        <meta charset=utf-8>
        <title>Tablero Ajedrez</title>
        <style>
            body { margin: 0; }
            canvas { width: 100%; height: 100%; }
            #BODY_Title{
                position: absolute;
                width: 100%;
                top:10px;
                display: block;
                padding-left:10px;
                color: white;
                background-color: #444444;
            }
        </style>
    </head>
    <body>
        <div id="BODY_Title">Autores: John Cuesta, Luis Lama, David Neira</div>
        <script src="3js/three.js"></script>
        <script src="3js/OrbitControls.js"></script>
        <script src="3js/dat.gui.min.js"></script>
        <script>
            //creando la escena
            var scene = new THREE.Scene();
            scene.background = new THREE.Color( 0x106499 );
            var camera = new THREE.PerspectiveCamera ( 75, window.innerWidth / window.innerHeight, 0.1 , 50 );

            var renderer = new THREE.WebGLRenderer();
            renderer.setSize( window.innerWidth, window.innerHeight );
            document.body.appendChild( renderer.domElement );

            //Para movernos con el mouse
            var controls = new THREE.OrbitControls(camera,renderer.domElement);

            //creando figura
            var tile_width = 2;
            var geometry = new THREE.BoxGeometry( tile_width, tile_width /10, tile_width );
            var material1 = new THREE.MeshPhongMaterial( { color: 0xffffff, side: THREE.DoubleSide, flatShading: true } );
            var material2 = new THREE.MeshPhongMaterial( { color: 0x000000, side: THREE.DoubleSide, flatShading: true } );
            
            var material;
            var tablero = new THREE.Group();
            colorBlack = 1

            for (var i = 0; i < 8; i++) {
                
                if (i % 2 == 0){ colorBlack = 1
                }else{ colorBlack = -1 };
                
                for (var j = 0; j < 8; j++) {
                    if (colorBlack == 1){ material = material1; }
                    else{ material = material2; };

                    var tile = new THREE.Mesh(geometry, material);
                    
                    tile.position.x = (-4+j)*tile_width;
                    tile.position.z = (-4+i)*tile_width;

                    tablero.add(tile);

                    colorBlack *= -1;
                }                          
            }

            scene.add(tablero);

            camera.position.set(0,5,20);

            var ambientLight = new THREE.AmbientLight(0xdddddd,0.05);
            scene.add(ambientLight);

            var light = new THREE.DirectionalLight(0xeeeeee, 5);
            light.position.set(0,100,0);
            scene.add(light);

            var params = { light: true };
            var nlines = params.length;
            var gui = new dat.GUI({ 
                height: nlines*32-1 
            });
            gui.add(params, 'light');
            gui.open();

            var lightsOn = true;
            var update = function(){
                if (params.light == lightsOn){
                    light.intensity = 5;
                }else{
                    light.intensity = 0;
                };

            };
            var render = function(){
                  renderer.render( scene, camera );
            };
            function animateLoop() {
                requestAnimationFrame( animateLoop );
                update();
                render();
                // tablero.rotation.y += 0.005;
                
            };
            animateLoop();
        </script>
    </body>
</html>